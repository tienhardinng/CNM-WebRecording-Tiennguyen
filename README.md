Web Interview Recorder - HanTie Project1. Introduction and Architecture OverviewThe Web Interview Recorder - HanTie project is a client-server web application designed to record sequential video interviews using the user's camera and microphone1. Its core functionality is the Per-Question Upload model, ensuring reliability and data integrity for each recorded answer2.This project demonstrates strong understanding of Client-Server network communication, MediaStream data handling, and server-side file processing3.Technical Stack and Environment: The application is built using Node.js (v18+) and Express.js for the Backend, and HTML5/CSS/JavaScript for the Frontend4. The protocol used is HTTP on localhost, although Hypertext Transfer Protocol Secure (HTTPS) is required when deployed publicly to access camera and microphone devices5555.2. File Naming and Storage ConventionAll data is stored on the server following strict organizational rules 6(Timezone: Asia/Bangkok 7):Session Folder: DD_MM_YYYY_HH_mm_username_safe 8Video File: Q[questionIndex].webm 9Metadata: meta.json 10Transcript (Bonus): transcript_Q[questionIndex].txt 113. API Contract and Session FlowThe application uses four primary Application Programming Interface (API) endpoints, following the required flow: session/start → upload-one (each question) → session/finish12.POST /api/verify-token: Validates the access token13.POST /api/session/start: Initializes the session, verifies the token, and creates the secure upload folder14.POST /api/upload-one (Multipart): Saves the video file, processes Speech-to-Text (STT), and updates metadata incrementally per question151515151515151515.POST /api/session/finish: Finalizes the session data16161616.4. Reliability and Data Integrity4.1 Per-Question Upload PolicyThe client is prevented from proceeding to the next question ($i+1$) until the upload for question $i$ is successfully confirmed by the server response17. This synchronous flow is the core reliability feature.4.2 Retry Mechanism (Exponential Backoff)To handle network errors and improve reliability, the client implements a robust retry mechanism for the /api/upload-one call18:Max Retries: Up to 3 attempts are executed19.Mechanism: Exponential Backoff is used to increase the delay between attempts (e.g., $2^n \times 1 \text{ second}$)20.Control Flow: The next question is blocked until upload is successful21.4.3 File Limits and ValidationMax File Size: Files are limited to 50MB22.Accepted MIME Type: Strictly filtered for video/webm23.Name Sanitization: The userName input is sanitized and truncated to ensure filesystem safety24.5. Bonus Feature: Speech-to-Text (STT)5.1 STT ProcessingEngine Choice: The Gemini 2.5 Flash API is used to transcribe the video content25.Trigger: STT processing is initiated automatically on the Server after the file is successfully uploaded and saved via the /api/upload-one route26.Output: The transcribed content is saved on the server as transcript_Q*.txt 27and returned to the Frontend to be displayed in the review screen for immediate feedback28.6. Run Instructions6.1 InstallationEnsure Node.js (v18+) is installed.Open the terminal at the root directory of the project.Install necessary dependencies using the following command:Bashnpm install
6.2 ExecutionConfiguration: Configure the Gemini API Key (for STT bonus) in the backend environment variables.Start Server: Run the backend server with the command:Bashnode server.js
Access Application: Open index.html in your browser (via localhost if running locally).